<template name="campaignLayout">
	<app-header>
		<app-toolbar fixed class="blue campaign-toolbar layout horizontal">
			<paper-icon-button icon="menu" id="openDrawerButton"></paper-icon-button>
			<div class="flex"></div> <!-- spacer -->
			<div class="campaign-name">{{campaign.name}}</div>
		</app-toolbar>
	</app-header>
	<app-drawer id="navigationDrawer">
		{{>appDrawer}}
	</app-drawer>
	<paper-fab id="newItemButton" class="floatingButton" icon="add" title="New item"></paper-fab>

	<div id="mainContent">
		<paper-input label="Search" class="main-searchbar">
			<iron-icon icon="search" prefix></iron-icon>
		</paper-input>

		{{#if isSearching}}
			{{#if searchResultsTitle.count}}
				<div class="paper-font-subhead">Matches in title</div>
			{{/if}}
			<div class="column-container">
				{{#each item in searchResultsTitle}}
					{{>itemSummaryCard item=item}}
				{{/each}}
			</div>

			{{#if searchResultsTags.count}}
				<div class="paper-font-subhead">Matches in tags</div>
			{{/if}}
			<div class="column-container">
				{{#each item in searchResultsTags}}
					{{>itemSummaryCard item=item}}
				{{/each}}
			</div>

			{{#if neither searchResultsTags.count searchResultsTitle.count}}
				<div class="paper-font-subhead">No results found.</div>
			{{/if}}
		{{else}}
			<div class="paper-font-subhead">All items (no search term)</div>
			<div class="column-container">
				{{#each item in items}}
					{{>itemSummaryCard item=item}}
				{{/each}}
			</div>
		{{/if}}
	</div>
</template>
